From 003eb2cec5b366999d0f72130eb7c73f88c3e2d2 Mon Sep 17 00:00:00 2001
From: mytja <mitja@severkar.eu>
Date: Mon, 21 Apr 2025 23:18:40 +0200
Subject: [PATCH 2/6] fix: make bottom padding overridable too

with
persist.sys.phh.status_bar_padding_bottom
---
 .../systemui/statusbar/phone/PhoneStatusBarView.java        | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBarView.java b/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBarView.java
index 4c5f835f9..c1b60584b 100644
--- a/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBarView.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBarView.java
@@ -279,6 +279,10 @@ public class PhoneStatusBarView extends FrameLayout {
         if(statusBarPaddingEnd == -1)
             statusBarPaddingEnd = getResources().getDimensionPixelSize(R.dimen.status_bar_padding_end);
 
+        int statusBarPaddingBottom = SystemProperties.getInt("persist.sys.phh.status_bar_padding_bottom", -1);
+        if(statusBarPaddingBottom == -1)
+            statusBarPaddingBottom = getResources().getDimensionPixelSize(R.dimen.status_bar_icons_padding_bottom);
+
         findViewById(R.id.status_bar_contents).setPaddingRelative(
                 (int) statusBarPaddingStart,
                 (int) statusBarPaddingTop,
@@ -292,7 +296,7 @@ public class PhoneStatusBarView extends FrameLayout {
                 (int) statusBarPaddingStart,
                 (int) statusBarPaddingTop,
                 (int) statusBarPaddingEnd,
-                getResources().getDimensionPixelSize(R.dimen.status_bar_icons_padding_bottom)
+                (int) statusBarPaddingBottom
         );
     }
 
-- 
2.34.1

