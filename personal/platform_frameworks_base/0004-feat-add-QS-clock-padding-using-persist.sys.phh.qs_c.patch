From 7c7933192e9ed1d72d8b16a8c3b9f1b34748e76c Mon Sep 17 00:00:00 2001
From: mytja <mitja@severkar.eu>
Date: Fri, 11 Oct 2024 21:24:03 +0200
Subject: [PATCH 04/10] feat: add QS clock padding using
 persist.sys.phh.qs_clock_*_padding

---
 .../com/android/systemui/shade/ShadeHeaderController.kt  | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

diff --git a/packages/SystemUI/src/com/android/systemui/shade/ShadeHeaderController.kt b/packages/SystemUI/src/com/android/systemui/shade/ShadeHeaderController.kt
index 2937ab1c2..74343dae8 100644
--- a/packages/SystemUI/src/com/android/systemui/shade/ShadeHeaderController.kt
+++ b/packages/SystemUI/src/com/android/systemui/shade/ShadeHeaderController.kt
@@ -27,6 +27,7 @@ import android.content.res.Configuration
 import android.graphics.Color
 import android.graphics.Insets
 import android.os.Bundle
+import android.os.SystemProperties
 import android.os.Trace
 import android.os.Trace.TRACE_TAG_APP
 import android.os.UserHandle;
@@ -638,10 +639,10 @@ constructor(
     }
 
     private fun updateQQSPaddings() {
-        val clockPaddingStart =
-            resources.getDimensionPixelSize(R.dimen.status_bar_left_clock_starting_padding)
-        val clockPaddingEnd =
-            resources.getDimensionPixelSize(R.dimen.status_bar_left_clock_end_padding)
+        var clockPaddingStart = SystemProperties.getInt("persist.sys.phh.qs_clock_left_padding", -1);
+        if(clockPaddingStart == -1) clockPaddingStart = resources.getDimensionPixelSize(R.dimen.status_bar_left_clock_starting_padding);
+        var clockPaddingEnd = SystemProperties.getInt("persist.sys.phh.qs_clock_right_padding", -1);
+        if(clockPaddingEnd == -1) clockPaddingEnd = resources.getDimensionPixelSize(R.dimen.status_bar_left_clock_end_padding);
         clock.setPaddingRelative(
             clockPaddingStart,
             clock.paddingTop,
-- 
2.34.1

